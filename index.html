<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Simple Onboarding Flow</title>
    <link rel="stylesheet" type="text/css" href="css/content.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://d237d8mq680mpf.cloudfront.net/onboarded-js/latest/onboarded-js.min.js"
            data-style="false"
            data-flow-auto-start="false">
    </script>

    <link rel="stylesheet" type="text/css" href="css/product_tour.css">
    <style type="text/css" media="screen">
        .tour {
            margin: 0.75em auto;
            padding: 0.65em 0 1.25em;
            }
            .tour #start-product-tour {
                width: 16em;
                height: 3em;
                margin: -3em -8em;
                padding: 0.75em 1.5em;
                position: relative;
                top: 50%;
                left: 50%;
                font-family: 'Franklin Gothic Medium', Arial, sans-serif;
                font-size: 1.2em;
                font-weight: 600;
                color: #22313F; /* EBONY CLAY */
                background-color: #03A678; /* FREE SPEEACH AQUAMARINE */
                border-radius: 6px;
                border: 0.2em solid #1E824C; /* SALEM */
                -webkit-box-shadow: 2px 2px 10px -2px rgba(27, 163, 156, 0.7); /* LIGHT SEA GREEN, 70% ùõº */
                   -moz-box-shadow: 2px 2px 10px -2px rgba(27, 163, 156, 0.7); /* LIGHT SEA GREEN, 70% ùõº */
                        box-shadow: 2px 2px 10px -2px rgba(27, 163, 156, 0.7); /* LIGHT SEA GREEN, 70% ùõº */
                -webkit-transition: all 175ms ease;
                   -moz-transition: all 175ms ease;
                        transition: all 175ms ease;
                }
                .tour #start-product-tour:hover {
                    cursor: pointer;
                    background-color: #049372; /* OBSERVATORY */
                    color: #2C3E50; /* MADISON */
                    border-color: #16A085; /* MEADOW MOUNTAIN */
                    -webkit-box-shadow: none;
                       -moz-box-shadow: none;
                            box-shadow: none;
                }
    </style>
</head>
<body>
    <header>
        <h1>Awesome News Articles</h1>

        <nav role="main">
            <ul>
                <li><a href="#">Articles</a></li>
                <li><a href="#">Collections</a></li>
                <li><a href="#">Discussions</a></li>
                <li id="search">
                    <input type="search" placeholder="Search...">
                </li>
            </ul>
        </nav>
    </header>

    <div class="content" role="main">
        <div class="tour">
            <button id="start-product-tour">Take The Product Tour</button>
        </div>

        <article>
            <h3>Article Headline</h3>

            <div class="article-actions">
                <a class="icon heart" href="#" title="Add to Collection"></a>
                <a class="icon comment" href="#" title="Comment"></a>
            </div>

            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odit commodi, nisi sunt aliquid recusandae, adipisci laboriosam nostrum eaque repudiandae, ad voluptatibus omnis libero cupiditate aspernatur expedita assumenda in velit magnam!</p>
        </article>

        <article>
            <h3>Article Headline</h3>

            <div class="article-actions">
                <a class="icon heart" href="#" title="Add to Collection"></a>
                <a class="icon comment" href="#" title="Comment"></a>
            </div>

            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odit commodi, nisi sunt aliquid recusandae, adipisci laboriosam nostrum eaque repudiandae, ad voluptatibus omnis libero cupiditate aspernatur expedita assumenda in velit magnam!</p>
        </article>

        <article>
            <h3>Article Headline</h3>

            <div class="article-actions">
                <a class="icon heart" href="#" title="Add to Collection"></a>
                <a class="icon comment" href="#" title="Comment"></a>
            </div>

            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odit commodi, nisi sunt aliquid recusandae, adipisci laboriosam nostrum eaque repudiandae, ad voluptatibus omnis libero cupiditate aspernatur expedita assumenda in velit magnam!</p>
        </article>

        <article>
            <h3>Article Headline</h3>

            <div class="article-actions">
                <a class="icon heart" href="#" title="Add to Collection"></a>
                <a class="icon comment" href="#" title="Comment"></a>
            </div>

            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odit commodi, nisi sunt aliquid recusandae, adipisci laboriosam nostrum eaque repudiandae, ad voluptatibus omnis libero cupiditate aspernatur expedita assumenda in velit magnam!</p>
        </article>
    </div>

    <!-- Replace PROJECT-TOKEN with your actual project token -->
    <div data-onboarded-token="PROJECT-TOKEN" style="display: none">
        <div data-onboarded-flow="Product Tour">

            <div data-step="welcome">
                <h1>Welcome to the Awesome News Site!</h1>
                <h2>The revolutionary new site for reading news online.</h2>
                <p>Find out about the exciting features that make this site unique:</p>

                <button data-name="introduced-to-features"
                        data-action-next="search-feature">
                    First Feature: Search
                </button>
            </div>

            <div data-step="search-feature">
                <h1>Search For Articles</h1>
                <h2>Find articles by title, author, or keyword</h2>

                <button data-name="search-features-reviewed"
                        data-action-next="collections-feature">
                    Next Feature: Comments
                </button>
            </div>

            <div data-step="collections-feature">
                <h1>Collect Articles</h1>
                <h2>Curate your own groups of articles</h2>
                <p>Save your collections of articles for later reading, or share them with others</p>

                <button data-name="browse-collections-reviewed"
                        data-action-next="browse-collections-feature">
                    Next Feature: Browsing Collections
                </button>
            </div>

            <div data-step="browse-collections-feature">
                <h1>Browse Collections</h1>
                <h2>Share your collections of articles. Browse other users' collections.</h2>
                <p>Review articles in your collections, or discover new articles from other collections.</p>

                <button data-name="browse-collections-features-reviewed"
                        data-action-next="comments-feature">
                    Next Feature: Collections
                </button>
            </div>

            <div data-step="comments-feature">
                <h1>Comment on Articles</h1>
                <h2>The news is about more than just the article</h2>
                <p>Start a new discussion or join an existing one.</p>

                <button data-name="comments-features-reviewed"
                        data-action-next="browse-comments-feature">
                    Next Feature: Browsing Comments
                </button>
            </div>

            <div data-step="browse-comments-feature">
                <h1>Browse Comments</h1>
                <h2>Discovery though discussion</h2>
                <p>News can be discovered through discourse. Read through
                   discussions about various articles and contribute to the
                   conversation</p>

                <button data-name="tour-completed"
                        data-action-complete>
                    Got It!
                </button>
            </div>

        </div>
    </div>

    <script>
        // Declare a helper function for scrolling and highlighting specific DOM elements
        window.highlightAndScrollTo = function ($el, animationDuration) {
            if (!animationDuration) animationDuration = 500;

            // Highlight the element
            $el.addClass('highlighted');

            // Scroll the page to the element
            $("html, body").animate({scrollTop: $el.offset().top - 150}, animationDuration);
        }

        window.setFlowBehaviors = function () {
            jQuery(document)
                // Bind a click event handler to the Start Product Tour button
                .on( 'click', '#start-product-tour', function (e) {
                    // Retrieve the already instantiated onboarded project.
                    var project = Onboarded.retrieve();
    
                    // Start the Product Tour flow, skipping the
                    // API check for completed steps.
                    project.startFlow({
                        label: 'Product Tour',
                        skipApiCheck: true
                    });
    
                    // Bind a click event handler to the render container
                    project.renderContainer.one( 'click', function(e) {
                        // If renderContainer element, which we've styled as an overlay,
                        // was the clicked target, then reset and dismiss the flow.
                        if ( e.target == $(this).contents().get(0) ) {
                            project.dismissFlow();
                        }
                    });
    
                })
    
                // Reset the flow upon dismissal, so that it can be restarted.
                .on( 'onboarded:flow:afterDismissal', function(e, flow) {
                    $('.highlighted').removeClass('highlighted');
                    $("html, body").animate({scrollTop: 0}, 300);
                    flow.reset();
                })
    
                // Reset the flow after completion, so that it can be restarted.
                .on( 'onboarded:flow:afterComplete', function(e, flow) {
                    $('.highlighted').removeClass('highlighted');
                    $("html, body").animate({scrollTop: 0}, 300);
                    flow.reset();
                })
    
                // Highlight specific parts of the DOM on specific steps
                .on( 'onboarded:step:afterStart', function(event, step) {
                    switch ( step.label ) {
                        case "welcome":
                            $("html, body").animate({scrollTop: 0}, 300);
                            break;
    
                        case "search-feature":
                            var $searchInput = $('#search input[type="search"]');
                            highlightAndScrollTo( $searchInput );
                            $searchInput.prop('readonly', true);
                            break;
    
                        case "collections-feature":
                            $firstCollectionsButton = $('.article-actions > .heart').first();
                            highlightAndScrollTo( $firstCollectionsButton );
                            $firstCollectionsButton.addClass('hovered');
                            break;
    
                        case "browse-collections-feature":
                            highlightAndScrollTo( $('nav li').eq(1) );
                            break;
    
                        case "comments-feature":
                            $firstCommentsButton = $('.article-actions > .comment').first();
                            highlightAndScrollTo( $firstCommentsButton );
                            $firstCommentsButton.addClass('hovered');
                            break;
    
                        case "browse-comments-feature":
                            highlightAndScrollTo( $('nav li').eq(2) );
                            break;
                    }
                })
    
                // Turn off any highlighting when a step is completed
                .on( 'onboarded:step:afterComplete', function(event, step) {
                    switch ( step.label ) {
                        case "welcome":
                            break;
    
                        case "search-feature":
                            $('#search input[type="search"]')
                                .removeClass('highlighted')
                                .prop('readonly', false);
                            break;
    
                        case "collections-feature":
                            $('.article-actions > .heart').first()
                                .removeClass('highlighted hovered');
                            break;
    
                        case "browse-collections-feature":
                            $('nav li').eq(1).removeClass('highlighted');
                            break;
    
                        case "comments-feature":
                            $('.article-actions > .comment').first()
                                .removeClass('highlighted hovered');
                            break;
    
                        case "browse-comments-feature":
                            $('nav li').eq(2).removeClass('highlighted');
                            break;
                    }
                });
        }
    </script>
</body>
</html>
